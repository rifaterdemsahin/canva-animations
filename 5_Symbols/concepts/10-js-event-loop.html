<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript Event Loop</title>
    <base href="../">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body class="bg-dark text-light">
    <header id="header-placeholder"></header>
    <main class="container" style="margin-top: 80px;">
        <div class="row">
            <div class="col-lg-10 col-xl-8 mx-auto">
                <h1>Concept: JavaScript Event Loop</h1>

        <!-- Educational Objective -->
        <div class="alert alert-info bg-dark border-info">
            <h5>üéØ Why This Matters</h5>
            <p>This animation reveals the hidden mechanism behind JavaScript's asynchronous behavior. By visualizing how the call stack, callback queue, and event loop interact, learners understand why code executes in a specific order‚Äîessential for debugging async code and writing performant JavaScript applications.</p>
        </div>

        <!-- Part 1: Concept -->
        <div class="copy-container">
            <h2>üß† The Concept</h2>
            <button class="copy-btn" data-copy-target="#concept-text-10">Copy Text</button>
        </div>
        <div id="concept-text-10">
            <p>The JavaScript Event Loop allows JavaScript, which is single-threaded, to handle asynchronous operations. When an async operation (like `setTimeout`) is called, it's handed off to the Web API. When it's done, the callback is placed in the Callback Queue. The Event Loop moves callbacks from the queue to the Call Stack only when the stack is empty.</p>
        </div>
        <pre class="mermaid">
            graph TD
                A["Call Stack üìú"]
                B["Web API üåê"]
                C["Callback Queue ‚è±Ô∏è"]
                A -- "setTimeout()" --> B
                B -- "Timer Finishes" --> C
                A -- "Is Empty?" --> C
                C -- "Callback" --> A
        </pre>

        <!-- AI Image Prompt -->
        <div class="copy-container">
            <h2>üé® AI Image Prompt</h2>
            <button class="copy-btn" data-copy-target="#image-prompt-10">Copy Prompt</button>
        </div>
        <div id="image-prompt-10">
            <p>As a video production assistant creating assets for an online video course, generate a minimalist diagram of the JavaScript event loop with three labeled boxes: Call Stack, Web API, and Callback Queue, and a task block moving between them. The style should be a clean, vector diagram for an educational animation.</p>
        </div>

        <!-- Part 2: Animation Idea (Collapsible) -->
        <div class="animation-section">
            <button class="animation-toggle" type="button" data-bs-toggle="collapse" data-bs-target="#animation-10" aria-expanded="false" aria-controls="animation-10">
                üé¨ Animation Idea
                <span class="toggle-icon">‚ñº</span>
            </button>
            <div class="collapse" id="animation-10">
                <div class="animation-content">
                    <p>Animating the journey of an asynchronous task through the different parts of the browser environment makes the complex JavaScript event loop far easier to comprehend than a static diagram.</p>
                    <p><a href="https://www.youtube.com/watch?v=8aGhZQc_tsI" target="_blank" rel="noopener noreferrer">Watch on YouTube</a></p>
                    <div class="video-container">
                        <iframe src="https://www.youtube.com/embed/8aGhZQc_tsI" title="What the heck is the event loop anyway?" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                    </div>
                </div>
            </div>
        </div>

        <!-- Part 3: Steps in Canva -->
        <h2>üìù Steps in Canva</h2>
        <ol>
            <li><strong>Boxes:</strong> Create boxes for the "Call Stack," "Web API," and "Callback Queue."</li>
            <li><strong>Task:</strong> Create a small block representing the async task.</li>
            <li><strong>Journey:</strong> Animate the task block moving from the Call Stack to the Web API, then to the Callback Queue, and finally back to the Call Stack using <strong>"Drift"</strong>.</li>
        </ol>

        <!-- Timeline & Timing Guide -->
        <div class="alert alert-warning bg-dark border-warning mt-4">
            <h4>‚è±Ô∏è Timeline & Timing Guide</h4>
            <p><strong>Total Duration:</strong> 15-18 seconds | <strong>How to Access:</strong> Click "Show timing" at bottom of Canva editor</p>
            <div class="mt-3">
                <h6>Recommended Timeline Sequence:</h6>
                <ul>
                    <li><strong>0-2s:</strong> Call Stack, Callback Queue, and Event Loop components appear (Rise animation, 1.5s duration)</li>
                    <li><strong>2-4s:</strong> First function enters call stack (Pop animation, 1s duration)</li>
                    <li><strong>4-6s:</strong> Async operation moves to Web APIs (Drift animation, 1.5s duration)</li>
                    <li><strong>6-8s:</strong> Callback arrives in callback queue (Drift animation, 1.5s duration)</li>
                    <li><strong>8-10s:</strong> Event loop checks stack (Pulse/Breathe animation, continuous)</li>
                    <li><strong>10-12s:</strong> Callback moves from queue to stack (Drift animation, 1.5s duration)</li>
                    <li><strong>12-14s:</strong> Callback executes and completes (Pop animation, 1s duration)</li>
                    <li><strong>14-18s:</strong> Event loop continues monitoring (Rotate/Breathe animation, continuous)</li>
                </ul>
                <p class="mt-2"><em>üí° Tip: Use color-coding (sync=blue, async=orange). Event loop arrow should have continuous subtle animation (Breathe).</em></p>
            </div>
        </div>

        <!-- Part 4: Process in Detail -->
        <h2>üñ±Ô∏è Process in Detail</h2>
        <div class="copy-container">
            <h4>üîç Asset Search Prompts</h4>
            <button class="copy-btn" data-copy-target="#search-prompt-10">Copy</button>
        </div>
        <div id="search-prompt-10">
            <p><code>labeled box shape</code>, <code>rectangle shape simple</code></p>
        </div>
        <p>Follow these clicks to create the animation in Canva:</p>
        <ul class="checklist">
            <li><strong>Step 1: Setup.</strong> Create a new "Video" design. Add three large, labeled boxes for "Call Stack", "Web API", and "Callback Queue".</li>
            <li><strong>Step 2: Create Task.</strong> Add a small rectangle shape to represent your async task.</li>
            <li><strong>Step 3: Animate the Journey.</strong>
                <ul class="checklist">
                    <li>Select the task block. Click "Animate" > <strong>"Drift"</strong>. Draw a path for it moving from the Call Stack to the Web API.</li>
                    <li>Add another <strong>"Drift"</strong> animation for it to move from the Web API to the Callback Queue.</li>
                    <li>Add a final <strong>"Drift"</strong> animation for it to move from the queue back into the Call Stack.</li>
                </ul>
            </li>
            <li><strong>Step 4: Adjust Timing.</strong> In the timeline, add pauses between each stage of the journey to represent processing time.</li>
            <li><strong>Step 6: Download.</strong> Click "Share" ‚Üí "Download" ‚Üí "MP4 Video".</li>
        </ul>

        <!-- Part 5: Final Review Checklist -->
        <h2>‚úÖ Final Review Checklist</h2>
        <p>Before downloading your animation, verify these elements are in place:</p>
        <ul class="checklist">
            <li>Icons are correctly positioned and visible throughout the animation</li>
            <li>Animations are timed and sequenced properly (check timeline view)</li>
            <li>Labels and text are clear and readable at video resolution</li>
            <li>Export settings are correct (MP4 Video, HD resolution: 1920x1080)</li>
            <li>Animation loops smoothly if intended for continuous playback</li>
        </ul>
            </div>
        </div>
    </main>
    <div id="footer-placeholder"></div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script type="module" src="mermaid-init.js"></script>
    <script src="shared-menu.js" defer></script>
    <script src="copy-button.js" defer></script>
    <script src="checklist.js" defer></script>
</body>
</html>
</body>
</html>